<app-ui-layout-default>
  <app-select-collection
    [(collection)]="selectedCollection"
    (collectionChange)="updateHeroes()"
  ></app-select-collection>

  <app-select-affix
    [(affixes)]="affixes"
    (affixesChange)="updateHeroes()"
  ></app-select-affix>

  <p-panel [header]="'Results' | translate" styleClass="mb-3">
    <div class="flex gap-2 flex-wrap">
      <p-card *ngFor="let result of results">
        {{ result.hero.name | titlecase }}
        <p-tag [value]="result.score + ' pts'" severity="info"></p-tag>
        <div>
          <ng-container *ngFor="let collection of result.hero.collections">
            <img
              pTooltip="{{ 'collection.' + collection.name | translate }}"
              tooltipPosition="bottom"
              src="/assets/collections/{{ collection.name }}.png"
              class="h-8 inline-block"
              alt="collection"
            />
            <p-badge value="{{ collection.level }}"></p-badge>
          </ng-container>
        </div>
        <div>
          <img
            *ngFor="let offAffix of result.hero.offAffixes"
            pTooltip="{{ 'affix.' + offAffix | translate }}"
            tooltipPosition="bottom"
            src="/assets/affixes/{{ offAffix }}.png"
            class="h-8 inline-block"
            alt="{{ offAffix }}"
          />
        </div>
        <div>
          <img
            *ngFor="let defAffix of result.hero.defAffixes"
            pTooltip="{{ 'affix.' + defAffix | translate }}"
            tooltipPosition="bottom"
            src="/assets/affixes/{{ defAffix }}.png"
            class="h-8 inline-block"
            alt="{{ defAffix }}"
          />
        </div>
      </p-card>
    </div>
  </p-panel>
</app-ui-layout-default>
